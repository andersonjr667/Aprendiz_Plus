/* Chat styles for Aprendiz+ */

:root{
	--chat-sidebar-bg:#ffffff;
	--chat-bg: #f7fbf9;
	--chat-accent: #26a69a;
	--muted: #95a5a6;
	--text-dark: #223;
}

.chat-container.modern-container{
	display:flex;
	gap:1rem;
	align-items:stretch;
	width:100%;
	min-height:70vh;
}

.chat-sidebar.modern-sidebar{
	width:320px;
	background:var(--chat-sidebar-bg);
	border-radius:12px;
	border:1px solid rgba(0,0,0,0.04);
	padding:0.75rem;
	box-shadow:0 6px 20px rgba(34,34,34,0.03);
	display:flex;
	flex-direction:column;
	overflow:hidden;
}

.chat-sidebar .sidebar-header{
	padding:0.5rem 0.6rem;
	border-bottom:1px solid rgba(0,0,0,0.04);
}

.chat-list{
	overflow:auto;
	padding:0.6rem;
	display:flex;
	flex-direction:column;
	gap:0.5rem;
}

.chat-item{
	display:flex;
	gap:0.6rem;
	align-items:center;
	padding:0.6rem;
	border-radius:8px;
	cursor:pointer;
	transition:background 0.15s, transform 0.08s;
}
.chat-item:hover{ background: #f1f6f5; transform: translateY(-1px); }
.chat-item.active{ background: linear-gradient(90deg, rgba(38,166,154,0.06), rgba(255,255,255,0)); border-left:3px solid var(--chat-accent); }

.chat-item-avatar{ width:42px; height:42px; border-radius:50%; object-fit:cover; }

.chat-item-content{ flex:1; min-width:0; }
.chat-item-header{ display:flex; justify-content:space-between; align-items:center; gap:0.5rem; }
.chat-item-name{ font-weight:600; color:var(--text-dark); display:block; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.chat-item-time{ font-size:0.82rem; color:var(--muted); }
.chat-item-job{ font-size:0.85rem; color:var(--muted); margin-top:3px; }
.chat-item-last{ font-size:0.87rem; color:#6b6f72; margin-top:4px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.chat-item-badge{ background:var(--chat-accent); color: white; padding:4px 7px; border-radius:12px; font-size:0.78rem; font-weight:700; }

.chat-main.modern-main{
	flex:1; display:flex; flex-direction:column; min-width:0; background:var(--chat-bg); border-radius:12px; padding:0.5rem; box-shadow:0 6px 20px rgba(34,34,34,0.03); border:1px solid rgba(0,0,0,0.03);
}

.chat-area{ display:flex; flex-direction:column; height:calc(70vh - 20px); }

.chat-header{ display:flex; align-items:center; justify-content:space-between; padding:0.6rem 0.8rem; border-bottom:1px solid rgba(0,0,0,0.04); }
.chat-header-info{ display:flex; gap:0.8rem; align-items:center; }
.chat-avatar{ width:54px; height:54px; border-radius:8px; object-fit:cover; }
.chat-header-text h3{ margin:0; font-size:1rem; color:var(--text-dark); }
.chat-header-text p{ margin:0; color:var(--muted); font-size:0.9rem; }
.chat-header-status{ margin-top:4px; display:flex; gap:0.5rem; align-items:center; }
.status-dot{ width:10px; height:10px; border-radius:50%; background:#bbb; display:inline-block; }
.status-dot.online{ background: #2ecc71; }
.status-dot.offline{ background: #bfc7c5; }

.chat-messages{ padding:0.8rem; overflow:auto; flex:1; display:flex; flex-direction:column; gap:0.6rem; }
.date-divider{ text-align:center; color:var(--muted); font-size:0.85rem; margin:8px 0; }

.message{ display:flex; gap:0.6rem; max-width:75%; }
.message.sent{ margin-left:auto; flex-direction:row-reverse; }
.message.received{ margin-right:auto; }
.message-avatar{ width:36px; height:36px; border-radius:6px; object-fit:cover; }
.message-content{ background:white; padding:0.6rem 0.8rem; border-radius:10px; box-shadow:0 4px 14px rgba(34,34,34,0.04); }
.message.sent .message-content{ background: linear-gradient(180deg,#e6fffb,#dff8f4); }
.message-text{ margin:0; color:#2b2f31; white-space:pre-wrap; word-break:break-word; }
.message-time{ font-size:0.75rem; color:var(--muted); margin-top:4px; text-align:right; }

.typing-indicator{ display:flex; gap:0.6rem; align-items:center; padding:0.4rem 0.6rem; }
.typing-dots{ display:inline-flex; gap:4px; }
.typing-dots span{ width:6px; height:6px; background:#ccc; border-radius:50%; display:inline-block; animation:blink 1.2s infinite; }
.typing-dots span:nth-child(2){ animation-delay:0.15s; }
.typing-dots span:nth-child(3){ animation-delay:0.3s; }
@keyframes blink{ 0%{ opacity:0.25 } 50%{ opacity:1 } 100%{ opacity:0.25 } }

.chat-input-container{ border-top:1px solid rgba(0,0,0,0.04); padding:0.6rem; display:flex; align-items:center; gap:0.6rem; }
.chat-input-form{ flex:1; display:flex; gap:0.6rem; align-items:flex-end; }
.chat-input-form textarea{ flex:1; resize:none; min-height:40px; max-height:220px; padding:10px; border-radius:8px; border:1px solid rgba(0,0,0,0.08); font-size:0.95rem; }
.btn-send{ background:var(--chat-accent); color:white; border:none; padding:10px 12px; border-radius:8px; cursor:pointer; }
.btn-send i{ transform:translateY(1px); }
.char-counter{ font-size:0.85rem; color:var(--muted); }

/* Empty and loading states */
.empty-state{ display:flex; flex-direction:column; align-items:center; justify-content:center; padding:2rem; color:var(--muted); }
.loading-spinner i{ margin-right:8px; }

/* Skeleton loading for conversation list */
.chat-skeleton{ display:flex; flex-direction:column; gap:0.6rem; padding:0.4rem 0.2rem; }
.skeleton-item{ display:flex; gap:0.6rem; align-items:center; padding:0.55rem; border-radius:8px; background:var(--chat-sidebar-bg); position:relative; overflow:hidden; }

.skeleton-avatar{ width:42px; height:42px; border-radius:50%; background:linear-gradient(180deg,#e9efee,#eef6f5); flex:0 0 42px; display:inline-block; animation:avatarPulse 1.6s ease-in-out infinite; }

.skeleton-lines{ flex:1; display:flex; flex-direction:column; gap:6px; }
.skeleton-line{ height:10px; border-radius:6px; background:#e9efee; position:relative; overflow:hidden; }
.skeleton-line.short{ width:40%; }
.skeleton-line.medium{ width:65%; }
.skeleton-line.long{ width:90%; }

/* Avatar subtle pulse */
@keyframes avatarPulse{
	0%{ transform:scale(1); opacity:1; }
	50%{ transform:scale(0.97); opacity:0.88; }
	100%{ transform:scale(1); opacity:1; }
}

/* Line shimmer (per-line overlay) */
.skeleton-line::after{
	content: '';
	position: absolute;
	left: -120%;
	top: 0;
	height: 100%;
	width: 120%;
	background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.55), rgba(255,255,255,0));
	transform: translateX(0);
	animation: lineShimmer 1.1s linear infinite;
	animation-delay: var(--shimmer-delay, 0s);
}

@keyframes lineShimmer{
	0%{ transform:translateX(-100%); }
	100%{ transform:translateX(100%); }
}

/* Stagger shimmer per item to create a more natural rhythm */
.chat-skeleton .skeleton-item:nth-child(1) .skeleton-line::after{ --shimmer-delay: 0s; }
.chat-skeleton .skeleton-item:nth-child(2) .skeleton-line::after{ --shimmer-delay: 0.08s; }
.chat-skeleton .skeleton-item:nth-child(3) .skeleton-line::after{ --shimmer-delay: 0.16s; }
.chat-skeleton .skeleton-item:nth-child(4) .skeleton-line::after{ --shimmer-delay: 0.24s; }
.chat-skeleton .skeleton-item:nth-child(5) .skeleton-line::after{ --shimmer-delay: 0.32s; }

/* Slight opacity variation for lines to look more organic */
.skeleton-line.short::after{ opacity:0.9; }
.skeleton-line.medium::after{ opacity:0.85; }
.skeleton-line.long::after{ opacity:0.8; }

/* Responsive */
@media (max-width:900px){
	.chat-container.modern-container{ flex-direction:column; }
	.chat-sidebar.modern-sidebar{ width:100%; order:2; max-height:220px; overflow:auto; }
	.chat-main.modern-main{ order:1; }
	.chat-area{ height:60vh; }
	.chat-item .chat-item-job{ display:none; }
	.chat-avatar{ width:46px; height:46px; }
}

@media (max-width:520px){
	.chat-sidebar{ display:none; }
	.chat-area{ margin:0; }
	.message{ max-width:90%; }
}

/* Inline notifications used by chat (toast-like) */
.notification{
	display:flex;
	align-items:center;
	gap:8px;
	background:#fff;
	border:1px solid rgba(0,0,0,0.06);
	padding:10px 12px;
	border-radius:10px;
	box-shadow:0 8px 24px rgba(34,34,34,0.06);
	margin:8px;
	max-width:380px;
	font-size:0.95rem;
}
.notification.error{ border-left:4px solid #e74c3c; }
.notification.success{ border-left:4px solid #2ecc71; }
.notification.info{ border-left:4px solid var(--chat-accent); }
.notification .notification-content{ display:flex; gap:8px; align-items:center; }
.notification .notification-text{ color:#222; }
.notification .notification-actions{ margin-left:auto; display:flex; gap:8px; }
.notification .notification-btn{ background:transparent; border:1px solid rgba(0,0,0,0.06); padding:6px 8px; border-radius:6px; cursor:pointer; }
.notification .notification-btn:disabled{ opacity:0.6; cursor:default; }
.notification .notification-close{ background:transparent; border:none; font-size:1.1rem; margin-left:8px; cursor:pointer; }

